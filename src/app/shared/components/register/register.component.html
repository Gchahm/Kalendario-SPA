<app-kalendario-card class="card-400 mat-elevation-z5">
    <h4 class="card-title">Register</h4>
    <form [formGroup]="form" (submit)="registerClick()" class="form-register">

      <mat-error *ngIf="form.errors">
        <mat-list *ngFor="let error of form.errors">{{error}}</mat-list>
      </mat-error>

      <mat-form-field *ngIf="form.get('firstName') as lastName">
        <input type="text"
               matInput
               placeholder="First Name"
               formControlName="firstName">
        <mat-error>
          <div *ngIf="lastName.hasError('firstName') && lastName.touched">first name  is required</div>
          <div *ngIf="form.get('firstName').errors?.serverError">
            {{form.get('firstName').errors?.serverError}}
          </div>
        </mat-error>
      </mat-form-field>

      <mat-form-field *ngIf="form.get('lastName') as lastName">
        <input type="text"
               matInput
               placeholder="Last Name"
               formControlName="lastName">

        <mat-error>
          <div *ngIf="lastName.hasError('lastName') && lastName.touched">last name  is required</div>
          <div *ngIf="form.get('lastName').errors?.serverError">
            {{form.get('lastName').errors?.serverError}}
          </div>
        </mat-error>
      </mat-form-field>

      <mat-form-field *ngIf="form.get('email') as email">
        <input type="email"
               matInput
               placeholder="Email Address"
               formControlName="email">
        <mat-error>
          <div *ngIf="email.hasError('required') && email.touched">email is required</div>
          <div *ngIf="email.hasError('email') && email.touched">please enter a valid email address</div>
          <div *ngIf="form.get('email').errors?.serverError">
            {{form.get('email').errors?.serverError}}
          </div>
        </mat-error>
      </mat-form-field>

      <mat-form-field *ngIf="form.get('password1') as password1">
        <input type="password"
               matInput
               placeholder="Password"
               formControlName="password1">

        <mat-error>
          <div *ngIf="password1.hasError('required') && password1.touched">password is required</div>
          <div *ngIf="password1.hasError('minlength') && password1.touched">
            password must have more than 8 characters
          </div>
          <div *ngIf="form.get('password1').errors?.serverError">
            {{form.get('password1').errors?.serverError}}
          </div>
        </mat-error>
      </mat-form-field>

      <mat-form-field *ngIf="form.get('password2') as password2">
        <input type="password"
               matInput
               placeholder="Password"
               formControlName="password2"
               [errorStateMatcher]="matcher">

        <mat-error>
          <div *ngIf="form.hasError('mismatch') && password2.touched">
            password must match
          </div>
          <div *ngIf="form.get('password2').errors?.serverError">
            {{form.get('password2').errors?.serverError}}
          </div>
        </mat-error>
      </mat-form-field>

      <button class="btn btn-primary mb-2" [disabled]="!form.valid" type="submit">Register</button>
      <button class="btn btn-accent-dark"  type="button" (click)="loginClick()">Already Registered? Login</button>

    </form>
</app-kalendario-card>

