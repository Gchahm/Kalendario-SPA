<div class="container">
  <mat-card class="card-400 m-auto mat-elevation-z5">
    <mat-card-content>
      <h4 class="card-title">Register</h4>
      <form [formGroup]="form" (submit)="register()" class="form-register">
        <mat-form-field>
          <input type="text"
                 matInput
                 placeholder="first name"
                 formControlName="firstName">
          <mat-error>first name is required</mat-error>
        </mat-form-field>

        <mat-form-field>
          <input type="text"
                 matInput
                 placeholder="last name"
                 formControlName="lastName">
          <mat-error>last name is required</mat-error>
        </mat-form-field>

        <mat-form-field *ngIf="form.get('email') as email">
          <input type="email"
                 matInput
                 placeholder="Email address"
                 formControlName="email">
          <mat-error>
            <div *ngIf="email.hasError('required') && email.touched">email is required</div>
            <div *ngIf="email.hasError('email') && email.touched">please enter a valid email address</div>
          </mat-error>
        </mat-form-field>

        <mat-form-field *ngIf="form.get('password1') as password1">
          <input type="password"
                 matInput
                 placeholder="Password"
                 formControlName="password1">
          <mat-error>
            <div *ngIf="password1.hasError('required') && password1.touched">password is required</div>
            <div *ngIf="password1.hasError('minlength') && password1.touched">
              password must have more than 8 characters
            </div>
          </mat-error>
        </mat-form-field>

        <mat-form-field *ngIf="form.get('password2') as password2">
          <input type="password"
                 matInput
                 placeholder="Confirm Password"
                 formControlName="password2">
          <mat-error>
            <div *ngIf="form.hasError('mismatch') && password2.touched">
              password must match
            </div>
          </mat-error>
        </mat-form-field>

        <button mat-flat-button color="accent" [disabled]="!form.valid" type="submit">Sign in</button>

      </form>
    </mat-card-content>
  </mat-card>

</div>
