function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var c,r,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(c=n.next()).done)&&(i.push(c.value),!t||i.length!==t);s=!0);}catch(o){a=!0,r=o}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,c=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(c,arguments,r)}else n=c.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var c=0,r=function(){};return{s:r,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{M4UK:function(e,t,n){"use strict";n.r(t);var c=n("PCNd"),r=n("tyNb"),i=n("kt0X"),s=n("pLZG"),a=n("eJuo"),o=n("wd/R"),u=function(e){return e.RequestCompany="[Company] Request Company",e.SetCompany="[Company] Set Company",e.LoadCompanyFail="[Company] Load Company Fail",e.SetDate="[Company] Set Date",e.RequestSlots="[Company] Request Slots",e.SetSlots="[Company] Update Slots",e.SetCurrentSlotId="[Company] Update Current Slot Id",e.LoadSlotsFail="[Company] Load Slots Fail",e.RequestAddAppointmentRequest="[Company] Request Add Appointment to Current",e.SetCurrentEmployeeId="[Company] Set Current Employee Id",e.SetCurrentServiceId="[Company] Set Current Service Id",e.SetCurrentCategoryId="[Company] Set Current Category Id",e.DoNothing="[Company] Do Nothing",e.SetServiceSearch="[Company] Update Service Search",e.RequestCurrentRequest="[Company] Request Current Request",e.SetCurrentRequest="[Company] Update Current Request",e.OpenSlotsForServiceDialog="[Company] Open Slots for Service Dialog",e.RequestRemoveAppointment="[Company] Request Remove Appointment From Request",e.AddRequestNotes="[Company] Add Request Notes",e.ConfirmRequest="[Company] Complete Request",e.RequestPaymentDetails="[Company] Request Payment Details",e.SetPaymentDetails="[Company] Set Payment Details",e.SetCheckoutMode="[Company] Set Checkout Mode",e}({}),l=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.RequestCompany},p=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.SetCompany},d=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.LoadCompanyFail},b=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.SetDate},f=function e(){_classCallCheck(this,e),this.type=u.RequestSlots},m=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.SetSlots},h=function e(t){_classCallCheck(this,e),this.id=t,this.type=u.SetCurrentSlotId},y=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.LoadSlotsFail},v=function e(){_classCallCheck(this,e),this.type=u.RequestAddAppointmentRequest},g=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.SetCurrentEmployeeId},C=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.SetCurrentServiceId},O=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.SetCurrentCategoryId},k=function e(){_classCallCheck(this,e),this.type=u.DoNothing},j=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.SetServiceSearch},S=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.RequestCurrentRequest},w=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.SetCurrentRequest},D=function e(){_classCallCheck(this,e),this.type=u.OpenSlotsForServiceDialog},I=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.RequestRemoveAppointment},q=function e(t){_classCallCheck(this,e),this.customerNotes=t,this.type=u.AddRequestNotes},_=function e(){_classCallCheck(this,e),this.type=u.ConfirmRequest},R=function e(t){_classCallCheck(this,e),this.id=t,this.type=u.RequestPaymentDetails},P=function e(t){_classCallCheck(this,e),this.details=t,this.type=u.SetPaymentDetails},V=function e(t){_classCallCheck(this,e),this.payload=t,this.type=u.SetCheckoutMode},W={company:null,date:o.utc().add(1,"day").toISOString(),disableDateInput:!1,currentEmployeeId:null,currentServiceId:null,currentCategoryId:null,serviceSearch:"",slots:[],currentSlotId:null,loadingSlots:!1,apiError:null,currentRequest:null,paymentDetails:null,checkoutMode:!1};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SetCompany:e.currentServiceId;if(null!==e.currentEmployeeId&&null===e.currentServiceId){var n=t.payload.employees.find((function(t){return t.id===e.currentEmployeeId}));null===n?null:n.services.find((function(e){return e==e}))}return Object.assign(Object.assign({},e),{company:t.payload,currentCategoryId:t.payload.serviceCategories.map((function(e){return e.id})).find((function(e){return e==e})),apiError:null});case u.LoadCompanyFail:return Object.assign(Object.assign({},e),{apiError:t.payload});case u.SetDate:return Object.assign(Object.assign({},e),{date:t.payload.toISOString()});case u.RequestSlots:return Object.assign(Object.assign({},e),{loadingSlots:!0});case u.SetSlots:var c=0;return Object.assign(Object.assign({},e),{currentSlotId:null,apiError:null,loadingSlots:!1,slots:t.payload.map((function(e){return{id:c++,title:e.start.format("HH:mm")+" - "+e.end.format("HH:mm"),start:e.start,end:e.end}}))});case u.SetCurrentSlotId:return Object.assign(Object.assign({},e),{currentSlotId:t.id});case u.LoadSlotsFail:return Object.assign(Object.assign({},e),{apiError:t.payload,loadingSlots:!1});case u.SetCurrentEmployeeId:return Object.assign(Object.assign({},e),{currentEmployeeId:0===t.payload?null:t.payload});case u.SetCurrentServiceId:return Object.assign(Object.assign({},e),{currentServiceId:t.payload});case u.DoNothing:return Object.assign({},e);case u.SetCurrentCategoryId:return Object.assign(Object.assign({},e),{currentCategoryId:t.payload});case u.SetServiceSearch:return Object.assign(Object.assign({},e),{serviceSearch:t.payload});case u.SetCurrentRequest:return Object.assign(Object.assign({},e),{currentRequest:t.payload,disableDateInput:t.payload.itemsCount>0,date:t.payload.itemsCount>0?t.payload.scheduledDate:e.date});case u.SetPaymentDetails:return Object.assign(Object.assign({},e),{paymentDetails:t.details});case u.SetCheckoutMode:return Object.assign(Object.assign({},e),{checkoutMode:t.payload});default:return e}}var $,x,A=Object(i.o)("company"),E=(Object(i.q)(A,(function(e){return e.apiError})),Object(i.q)(A,(function(e){return e.checkoutMode})),Object(i.q)(A,(function(e){return e.company}))),F=Object(i.q)(E,(function(e){return e?e.services:null})),N=Object(i.q)(E,(function(e){return e?e.serviceCategories:null})),G=Object(i.q)(A,(function(e){return e.currentCategoryId})),T=Object(i.q)(F,G,(function(e,t){return e?e.filter((function(e){return e.category===t})):[]})),K=Object(i.q)(E,(function(e){return e?e.employees:[]})),L=Object(i.q)(K,F,(function(e,t){return e.map((function(e){return{employee:e,services:t.filter((function(t){return e.services.includes(t.id)}))}}))})),B=Object(i.q)(E,(function(e){return e?e.name:""})),H=Object(i.q)(A,(function(e){return e.date})),Q=Object(i.q)(H,(function(e){return o.utc(e)})),U=Object(i.q)(A,(function(e){return e.currentEmployeeId})),Y=Object(i.q)(K,U,(function(e,t){return null===e||null===t||0===t?null:e.find((function(e){return e.id===t}))})),X=Object(i.q)(Y,F,(function(e,t){return t.filter((function(t){return e.services.includes(t.id)}))})),z=Object(i.q)(A,(function(e){return e.serviceSearch})),J=Object(i.q)(X,z,(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),Z=Object(i.q)(A,(function(e){return e.currentServiceId})),ee=Object(i.q)(F,Z,(function(e,t){return null===t?null:e.find((function(e){return e.id===t}))})),te=Object(i.q)(A,(function(e){return e.loadingSlots})),ne=Object(i.q)(A,(function(e){return e.disableDateInput})),ce=Object(i.q)(U,Z,(function(e,t){return t?e?{service:t,employee:e}:{service:t}:null})),re=Object(i.q)(ce,H,ne,(function(e,t,n){return e&&t?Object.assign(Object.assign({},e),{start:o.utc(t).startOf("day"),end:n?o.utc(t).endOf("day"):o.utc(t).add(1,"d").endOf("day")}):null})),ie=Object(i.q)(A,(function(e){return e.slots})),se=(Object(i.q)(Y,ee,Q,(function(e,t,n){var c=a.a.fromJS();return c.service=t,c.employee=e,c.start=n,c})),Object(i.q)(E,(function(e){return e.config.preBookWarn}))),ae=(Object(i.q)(E,(function(e){return e.config.postBookMessage})),Object(i.q)(A,(function(e){return e.currentRequest}))),oe=Object(i.q)(A,(function(e){return e.paymentDetails})),ue=(Object(i.q)(ae,(function(e){return e.items})),Object(i.q)(A,(function(e){return e.currentSlotId}))),le=Object(i.q)(ie,ue,(function(e,t){return e.find((function(e){return e.id===t}))})),pe=Object(i.q)(ce,le,(function(e,t){return e&&t?Object.assign(Object.assign({},e),{start:t.start}):null})),de=n("YZpF"),be=n("fXoL"),fe=(($=function(){function e(t,n){_classCallCheck(this,e),this.route=t,this.store=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this.route.snapshot.paramMap.get("cid");this.store.dispatch(new l(e)),this.store.dispatch(new de.j(e)),this.observeAndReloadSlots(),this.requestAddAppointmentFromParams()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.store.dispatch(new de.j(null)),this.store.dispatch(new C(null))}},{key:"observeAndReloadSlots",value:function(){var e=this;this.subscription=this.store.pipe(Object(i.t)(re),Object(s.a)((function(e){return null!==e}))).subscribe((function(t){return e.store.dispatch(new f)}))}},{key:"requestAddAppointmentFromParams",value:function(){var e,t=_createForOfIteratorHelper(this.route.snapshot.queryParamMap.keys);try{for(t.s();!(e=t.n()).done;)switch(e.value){case"service":this.store.dispatch(new C(+this.route.snapshot.queryParamMap.get("service")));break;case"employee":this.store.dispatch(new C(+this.route.snapshot.queryParamMap.get("employee")));break;case"date":this.store.dispatch(new b(o.utc(this.route.snapshot.queryParamMap.get("date"))))}}catch(n){t.e(n)}finally{t.f()}this.store.dispatch(new v)}}]),e}()).\u0275fac=function(e){return new(e||$)(be.Qb(r.a),be.Qb(i.h))},$.\u0275cmp=be.Kb({type:$,selectors:[["company-shell"]],decls:1,vars:0,template:function(e,t){1&e&&be.Rb(0,"router-outlet")},directives:[r.g],styles:[""]}),$),me=n("r32Y"),he=n("Ql4B"),ye=n("ofXK"),ve=((x=function e(){_classCallCheck(this,e),this.selectEmployee=new be.o}).\u0275fac=function(e){return new(e||x)},x.\u0275cmp=be.Kb({type:x,selectors:[["company-employee-list-card"]],inputs:{model:"model"},outputs:{selectEmployee:"selectEmployee"},decls:6,vars:3,consts:[[1,"company-circle-img-7",3,"src"],[1,"emp-card-content","ml-4"],[1,"h4"],[1,"btn","btn-primary-gradient","mt-4",3,"routerLink"]],template:function(e,t){1&e&&(be.Rb(0,"img",0),be.Wb(1,"div",1),be.Wb(2,"div",2),be.Gc(3),be.Vb(),be.Wb(4,"button",3),be.Gc(5," Book appointment "),be.Vb(),be.Vb()),2&e&&(be.pc("src",t.model.employee.photoUrl,be.zc),be.Db(3),be.Ic(" ",t.model.employee.name," "),be.Db(1),be.qc("routerLink","staff/",t.model.employee.id,""))},directives:[r.c],styles:["[_nghost-%COMP%]{display:flex}.emp-card-button[_ngcontent-%COMP%]{position:absolute;bottom:0;right:15px}.h4[_ngcontent-%COMP%]{text-transform:uppercase}"]}),x);function ge(e,t){if(1&e&&(be.Wb(0,"div",2),be.Rb(1,"company-employee-list-card",3),be.Vb()),2&e){var n=t.$implicit;be.Db(1),be.oc("model",n)}}var Ce,Oe,ke,je,Se=((ke=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ke)},ke.\u0275cmp=be.Kb({type:ke,selectors:[["company-employee-list"]],inputs:{employees:"employees",companyName:"companyName"},decls:2,vars:2,consts:[[1,"row"],["class","col-sm-12 col-md-6 col-lg-4 emp-card-box",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","col-lg-4","emp-card-box"],[3,"model"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.Ec(1,ge,2,1,"div",1),be.Vb()),2&e&&(be.oc("@staggeredFadeIn",void 0),be.Db(1),be.oc("ngForOf",t.employees))},directives:[ye.k,ve],styles:[".emp-card-box[_ngcontent-%COMP%]{margin-bottom:40px;padding-left:25px;padding-right:25px}"],data:{animation:[he.b]}}),ke),we=((Oe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var c;return _classCallCheck(this,n),(c=t.call(this,e)).store=e,c}return _createClass(n,[{key:"ngOnInit",value:function(){this.employees$=this.store.pipe(Object(i.t)(L)),this.companyName$=this.store.pipe(Object(i.t)(B))}}]),n}(me.a)).\u0275fac=function(e){return new(e||Oe)(be.Qb(i.h))},Oe.\u0275cmp=be.Kb({type:Oe,selectors:[["company-employees-shell"]],features:[be.Ab],decls:3,vars:6,consts:[[3,"employees","companyName"]],template:function(e,t){1&e&&(be.Rb(0,"company-employee-list",0),be.jc(1,"async"),be.jc(2,"async")),2&e&&be.oc("employees",be.kc(1,2,t.employees$))("companyName",be.kc(2,4,t.companyName$))},directives:[Se],pipes:[ye.b],styles:[""]}),Oe),De=((Ce=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Ce)},Ce.\u0275cmp=be.Kb({type:Ce,selectors:[["company-employee-details-card"]],inputs:{employee:"employee",companyName:"companyName"},decls:3,vars:2,consts:[[1,"company-circle-img-7",3,"src"],[1,"text-right","ml-4","my-auto"]],template:function(e,t){1&e&&(be.Rb(0,"img",0),be.Wb(1,"h1",1),be.Gc(2),be.Vb()),2&e&&(be.pc("src",null==t.employee?null:t.employee.photoUrl,be.zc),be.Db(2),be.Hc(null==t.employee?null:t.employee.name))},styles:["[_nghost-%COMP%]{display:flex}.blob-holder[_ngcontent-%COMP%]{max-height:20rem}"]}),Ce),Ie=n("6Z0Z"),qe=n("3Pt+"),_e=n("3lmY"),Re=n("Qu3c"),Pe=((je=function e(){_classCallCheck(this,e),this.selected=new be.o}).\u0275fac=function(e){return new(e||je)},je.\u0275cmp=be.Kb({type:je,selectors:[["company-service-list-card"]],inputs:{service:"service",checked:"checked"},outputs:{selected:"selected"},decls:7,vars:6,consts:[[1,"h6","px-1",3,"matTooltip"],[1,"c-primary","text-right"],[1,"tiny","light-grey"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.Gc(1),be.Vb(),be.Wb(2,"div",1),be.Wb(3,"p"),be.Gc(4),be.Vb(),be.Wb(5,"p",2),be.Gc(6),be.Vb(),be.Vb()),2&e&&(be.Hb("c-accent",t.checked),be.oc("matTooltip",t.service.name),be.Db(1),be.Ic(" ",t.service.name,"\n"),be.Db(3),be.Hc(t.service.price),be.Db(2),be.Ic("ETA: ",t.service.duration,""))},directives:[Re.a],styles:["[_nghost-%COMP%]{display:flex;text-transform:capitalize;justify-content:space-between;width:100%;border-bottom:1px solid #a1a1a1}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:0}"]}),je);function Ve(e,t){1&e&&(be.Wb(0,"h2"),be.Gc(1,"Select a Service"),be.Vb()),2&e&&be.oc("@fadeOutOnLeave",void 0)}function We(e,t){if(1&e){var n=be.Xb();be.Wb(0,"div",6),be.Wb(1,"company-service-list-card",7),be.ec("click",(function(){be.yc(n);var e=t.$implicit;return be.ic().select.emit(e.id)})),be.Vb(),be.Vb()}if(2&e){var c=t.$implicit,r=be.ic();be.Db(1),be.oc("service",c)("checked",c.id===r.selected)}}var Me,$e,xe,Ae,Ee,Fe,Ne=(($e=function(){function e(){_classCallCheck(this,e),this.searchChange=new be.o,this.select=new be.o}return _createClass(e,[{key:"search",set:function(e){this.searchValue=e}}]),e}()).\u0275fac=function(e){return new(e||$e)},$e.\u0275cmp=be.Kb({type:$e,selectors:[["company-employee-details-services"]],inputs:{services:"services",selected:"selected",search:"search"},outputs:{searchChange:"searchChange",select:"select"},decls:7,vars:4,consts:[[1,"form-holder"],["autocomplete","off","placeholder","search",1,"input-default","w-100",3,"ngModel","ngModelChange","keyup"],[1,"fa","fa-search"],[4,"ngIf"],[1,"row","pretty-scroll"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[3,"service","checked","click"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.Wb(1,"input",1),be.ec("ngModelChange",(function(e){return t.searchValue=e}))("keyup",(function(){return t.searchChange.emit(t.searchValue)})),be.Vb(),be.Rb(2,"i",2),be.Vb(),be.Wb(3,"app-kalendario-card"),be.Ec(4,Ve,2,1,"h2",3),be.Wb(5,"div",4),be.Ec(6,We,2,2,"div",5),be.Vb(),be.Vb()),2&e&&(be.Db(1),be.oc("ngModel",t.searchValue),be.Db(3),be.oc("ngIf",!t.selected),be.Db(1),be.oc("@staggeredFadeIn",void 0),be.Db(1),be.oc("ngForOf",t.services))},directives:[qe.c,qe.n,qe.q,_e.a,ye.l,ye.k,Pe],styles:[".search-box-container[_ngcontent-%COMP%]{padding:1rem 2rem .5rem;border-radius:10px;background-color:#fff}.pretty-scroll[_ngcontent-%COMP%]{overflow-y:scroll;max-height:26.75rem}.form-holder[_ngcontent-%COMP%]{margin-bottom:.75rem}"],data:{animation:[he.b,Object(Ie.f)({duration:300})]}}),$e),Ge=((Me=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.store.dispatch(new j("")),this.services$=this.store.select(J),this.selected$=this.store.select(Z),this.search$=this.store.select(z)}},{key:"setSearch",value:function(e){this.store.dispatch(new j(e))}},{key:"setCurrentService",value:function(e){this.store.dispatch(new C(e))}}]),e}()).\u0275fac=function(e){return new(e||Me)(be.Qb(i.h))},Me.\u0275cmp=be.Kb({type:Me,selectors:[["company-employee-details-services-shell"]],decls:4,vars:9,consts:[[3,"services","search","selected","searchChange","select"]],template:function(e,t){1&e&&(be.Wb(0,"company-employee-details-services",0),be.ec("searchChange",(function(e){return t.setSearch(e)}))("select",(function(e){return t.setCurrentService(e)})),be.jc(1,"async"),be.jc(2,"async"),be.jc(3,"async"),be.Vb()),2&e&&be.oc("services",be.kc(1,3,t.services$))("search",be.kc(2,5,t.search$))("selected",be.kc(3,7,t.selected$))},directives:[Ne],pipes:[ye.b],styles:[""]}),Me),Te=n("kmnG"),Ke=n("qFsG"),Le=n("iadO"),Be=((Fe=function(){function e(){_classCallCheck(this,e),this.disableDateInput=!0,this.isMobile=!1,this.dateChange=new be.o,this.disabledTooltip="remove items from cart to update the date"}return _createClass(e,[{key:"today",value:function(){this.dateChange.emit(o.utc())}},{key:"previousDay",value:function(){this.dateChange.emit(this.currentDate.subtract(1,"day"))}},{key:"nextDay",value:function(){this.dateChange.emit(this.currentDate.add(1,"day"))}}]),e}()).\u0275fac=function(e){return new(e||Fe)},Fe.\u0275cmp=be.Kb({type:Fe,selectors:[["company-slot-for-service-header"]],inputs:{disableDateInput:"disableDateInput",currentDate:"currentDate",isMobile:"isMobile",currentSlotId:"currentSlotId"},outputs:{dateChange:"dateChange"},decls:12,vars:15,consts:[[1,"text-center","mb-2",3,"matTooltip"],[1,"btn","btn-accent","mr-1",3,"disabled","click"],[1,"btn","btn-accent-dark","mr-1",3,"disabled","click"],[1,"fa","fa-chevron-left"],[1,"fa","fa-chevron-right"],["appearance","standard"],["matInput","","readonly","",3,"disabled","value","matDatepicker","click","dateChange"],["matSuffix","",3,"for"],[3,"touchUi"],["dpAppointmentDashboard",""]],template:function(e,t){if(1&e){var n=be.Xb();be.Wb(0,"div",0),be.Wb(1,"button",1),be.ec("click",(function(){return t.today()})),be.Gc(2," Today "),be.Vb(),be.Wb(3,"button",2),be.ec("click",(function(){return t.previousDay()})),be.Rb(4,"i",3),be.Vb(),be.Wb(5,"button",2),be.ec("click",(function(){return t.nextDay()})),be.Rb(6,"i",4),be.Vb(),be.Wb(7,"mat-form-field",5),be.Wb(8,"input",6),be.ec("click",(function(){return be.yc(n),be.vc(11).open()}))("dateChange",(function(e){return t.dateChange.emit(e.value)})),be.Vb(),be.Rb(9,"mat-datepicker-toggle",7),be.Rb(10,"mat-datepicker",8,9),be.Vb(),be.Vb()}if(2&e){var c=be.vc(11);be.oc("matTooltip",t.disableDateInput?t.disabledTooltip:""),be.Db(1),be.Hb("btn-sm",t.isMobile),be.oc("disabled",t.disableDateInput),be.Db(2),be.Hb("btn-sm",t.isMobile),be.oc("disabled",t.disableDateInput),be.Db(2),be.Hb("btn-sm",t.isMobile),be.oc("disabled",t.disableDateInput),be.Db(3),be.oc("disabled",t.disableDateInput)("value",t.currentDate)("matDatepicker",c),be.Db(1),be.oc("for",c),be.Db(1),be.pc("touchUi",t.isMobile)}},directives:[Re.a,Te.d,Ke.b,Le.d,Le.f,Te.i,Le.c],styles:[""]}),Fe),He=((Ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var c;return _classCallCheck(this,n),(c=t.call(this,e)).store=e,c}return _createClass(n,[{key:"ngOnInit",value:function(){this.date$=this.store.select(Q),this.disableDateInput$=this.store.select(ne)}},{key:"setDate",value:function(e){this.store.dispatch(new b(e))}}]),n}(me.a)).\u0275fac=function(e){return new(e||Ee)(be.Qb(i.h))},Ee.\u0275cmp=be.Kb({type:Ee,selectors:[["company-slots-for-service-header-shell"]],features:[be.Ab],decls:4,vars:9,consts:[[3,"disableDateInput","isMobile","currentDate","dateChange"]],template:function(e,t){1&e&&(be.Wb(0,"company-slot-for-service-header",0),be.ec("dateChange",(function(e){return t.setDate(e)})),be.jc(1,"async"),be.jc(2,"async"),be.jc(3,"async"),be.Vb()),2&e&&be.oc("disableDateInput",be.kc(1,3,t.disableDateInput$))("isMobile",be.kc(2,5,t.isMobile$))("currentDate",be.kc(3,7,t.date$))},directives:[Be],pipes:[ye.b],styles:[""]}),Ee),Qe=((Ae=function(){function e(){_classCallCheck(this,e),this.eventClick=new be.o,this.book=new be.o,this.animationState=!1}return _createClass(e,[{key:"animateEmit",value:function(){this.animationState=!this.animationState,this.isSelected?this.book.emit():this.eventClick.emit()}},{key:"isSelected",get:function(){return this.slot.id===this.currentSlotId}}]),e}()).\u0275fac=function(e){return new(e||Ae)},Ae.\u0275cmp=be.Kb({type:Ae,selectors:[["company-service-slot"]],inputs:{slot:"slot",currentSlotId:"currentSlotId"},outputs:{eventClick:"eventClick",book:"book"},decls:5,vars:7,consts:[[1,"slot-container","bs-primary","m-auto",3,"click"],[3,"hidden"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.ec("click",(function(){return t.animateEmit()})),be.Wb(1,"p"),be.Gc(2),be.Vb(),be.Wb(3,"div",1),be.Gc(4," Book Now "),be.Vb(),be.Vb()),2&e&&(be.Hb("no-border",t.isSelected)("bg-primary-gradient",t.isSelected),be.oc("@pulse",t.animationState),be.Db(2),be.Hc(t.slot.title),be.Db(1),be.oc("hidden",!t.isSelected))},styles:["p[_ngcontent-%COMP%]{margin:0}.slot-container[_ngcontent-%COMP%]{padding:.5rem;border-radius:3px;text-align:center;width:10rem;cursor:pointer}"],data:{animation:[Object(Ie.g)({scale:1.2,duration:300})]}}),Ae),Ue=((xe=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"selectSlot",value:function(){this.store.dispatch(new h(this.slot.id))}},{key:"addToCart",value:function(){this.store.dispatch(new v)}}]),e}()).\u0275fac=function(e){return new(e||xe)(be.Qb(i.h))},xe.\u0275cmp=be.Kb({type:xe,selectors:[["company-service-slot-shell"]],inputs:{slot:"slot",currentSlotId:"currentSlotId"},decls:1,vars:2,consts:[[3,"slot","currentSlotId","eventClick","book"]],template:function(e,t){1&e&&(be.Wb(0,"company-service-slot",0),be.ec("eventClick",(function(){return t.selectSlot()}))("book",(function(){return t.addToCart()})),be.Vb()),2&e&&be.oc("slot",t.slot)("currentSlotId",t.currentSlotId)},directives:[Qe],styles:[""]}),xe);function Ye(e,t){if(1&e&&(be.Wb(0,"div",7),be.Rb(1,"company-service-slot-shell",8),be.Vb()),2&e){var n=t.$implicit,c=be.ic(3);be.Db(1),be.oc("slot",n)("currentSlotId",c.currentSlotId)}}function Xe(e,t){if(1&e&&(be.Wb(0,"div",5),be.Wb(1,"h5"),be.Gc(2),be.Vb(),be.Ec(3,Ye,2,2,"div",6),be.Vb()),2&e){var n=be.ic(2);be.oc("@fadeInOnEnter",void 0)("@fadeOutOnLeave",void 0),be.Db(2),be.Hc(n.currentDateFormatted),be.Db(1),be.oc("ngForOf",n.currentDateSlots())}}function ze(e,t){if(1&e&&(be.Wb(0,"div",7),be.Rb(1,"company-service-slot-shell",8),be.Vb()),2&e){var n=t.$implicit,c=be.ic(3);be.Db(1),be.oc("slot",n)("currentSlotId",c.currentSlotId)}}function Je(e,t){if(1&e&&(be.Wb(0,"div",5),be.Wb(1,"h5"),be.Gc(2),be.Vb(),be.Ec(3,ze,2,2,"div",6),be.Vb()),2&e){var n=be.ic(2);be.oc("@fadeInOnEnter",void 0)("@fadeOutOnLeave",void 0),be.Db(2),be.Hc(n.nextDayFormatted),be.Db(1),be.oc("ngForOf",n.nextDaySlots())}}function Ze(e,t){if(1&e&&(be.Wb(0,"div",1),be.Wb(1,"h5",2),be.Wb(2,"span"),be.Gc(3),be.Vb(),be.Vb(),be.Wb(4,"div",3),be.Ec(5,Xe,4,4,"div",4),be.Ec(6,Je,4,4,"div",4),be.Vb(),be.Vb()),2&e){var n=be.ic();be.Db(1),be.oc("@bounceInRight",n.serviceAnimationState),be.Db(1),be.oc("@bounceInRight",!n.serviceAnimationState),be.Db(1),be.Ic(" ",null==n.service?null:n.service.name," "),be.Db(2),be.oc("ngIf",!n.isLoading),be.Db(1),be.oc("ngIf",!n.isMobile&&!n.isLoading)}}var et,tt,nt=((tt=function(){function e(){_classCallCheck(this,e),this.isMobile=!1,this.isLoading=!1,this.hasShadow=!0}return _createClass(e,[{key:"date",set:function(e){this.currentDate=e,this.nextDate=e.clone().add(1,"d"),this.currentDateFormatted=this.currentDate.format("ddd DD/MM/YYYY"),this.nextDayFormatted=this.nextDate.format("ddd DD/MM/YYYY")}},{key:"service",get:function(){return this._service},set:function(e){this._service=e,this.serviceAnimationState=!this.serviceAnimationState}},{key:"currentDateSlots",value:function(){var e=this;return this.serviceSlots.filter((function(t){return t.start.date()===e.currentDate.date()}))}},{key:"nextDaySlots",value:function(){var e=this;return this.serviceSlots.filter((function(t){return t.start.date()===e.nextDate.date()}))}}]),e}()).\u0275fac=function(e){return new(e||tt)},tt.\u0275cmp=be.Kb({type:tt,selectors:[["company-slots-for-service"]],inputs:{serviceSlots:"serviceSlots",currentSlotId:"currentSlotId",isMobile:"isMobile",isLoading:"isLoading",hasShadow:"hasShadow",date:"date",service:"service"},decls:1,vars:1,consts:[["class","text-center bg-white",4,"ngIf"],[1,"text-center","bg-white"],[1,"c-accent"],[1,"row"],["class","col-sm-12 col-md-6",4,"ngIf"],[1,"col-sm-12","col-md-6"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[3,"slot","currentSlotId"]],template:function(e,t){1&e&&be.Ec(0,Ze,7,5,"div",0),2&e&&be.oc("ngIf",t.service)},directives:[ye.l,ye.k,Ue],styles:[".card-container[_ngcontent-%COMP%]{max-width:632px}.pretty-scroll[_ngcontent-%COMP%]{overflow-y:scroll;min-height:28.5rem;height:28.5rem;max-height:28.5rem}"],data:{animation:[Object(Ie.a)(),Object(Ie.e)({delay:500}),Object(Ie.f)({duration:300})]}}),tt),ct=((et=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var c;return _classCallCheck(this,n),(c=t.call(this,e)).store=e,c.hasShadow=!0,c}return _createClass(n,[{key:"ngOnInit",value:function(){this.serviceSlots=this.store.select(ie),this.getCurrentSlotId$=this.store.select(ue),this.date$=this.store.select(Q),this.service$=this.store.select(ee),this.isLoading$=this.store.select(te)}}]),n}(me.a)).\u0275fac=function(e){return new(e||et)(be.Qb(i.h))},et.\u0275cmp=be.Kb({type:et,selectors:[["company-slots-for-service-shell"]],inputs:{hasShadow:"hasShadow"},features:[be.Ab],decls:7,vars:19,consts:[[3,"serviceSlots","currentSlotId","date","service","isLoading","hasShadow","isMobile"]],template:function(e,t){1&e&&(be.Rb(0,"company-slots-for-service",0),be.jc(1,"async"),be.jc(2,"async"),be.jc(3,"async"),be.jc(4,"async"),be.jc(5,"async"),be.jc(6,"async")),2&e&&be.oc("serviceSlots",be.kc(1,7,t.serviceSlots))("currentSlotId",be.kc(2,9,t.getCurrentSlotId$))("date",be.kc(3,11,t.date$))("service",be.kc(4,13,t.service$))("isLoading",be.kc(5,15,t.isLoading$))("hasShadow",t.hasShadow)("isMobile",be.kc(6,17,t.isMobile$))},directives:[nt],pipes:[ye.b],styles:[""]}),et);function rt(e,t){if(1&e&&(be.Wb(0,"div",1),be.Wb(1,"div",2),be.Rb(2,"company-employee-details-card",3),be.jc(3,"async"),be.Vb(),be.Wb(4,"div",4),be.Wb(5,"div",5),be.Rb(6,"company-employee-details-services-shell"),be.Vb(),be.Wb(7,"div",5),be.Wb(8,"app-kalendario-card"),be.Rb(9,"company-slots-for-service-header-shell"),be.Rb(10,"company-slots-for-service-shell"),be.Vb(),be.Vb(),be.Vb(),be.Vb()),2&e){var n=t.ngIf,c=be.ic();be.Db(2),be.oc("employee",n)("companyName",be.kc(3,2,c.companyName$))}}var it,st=((it=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,c){var r;return _classCallCheck(this,n),(r=t.call(this,e)).store=e,r.route=c,r}return _createClass(n,[{key:"ngOnInit",value:function(){var e=+this.route.snapshot.paramMap.get("id");this.store.dispatch(new g(e)),this.model$=this.store.select(Y),this.companyName$=this.store.select(B),this.store.dispatch(new C(null))}},{key:"ngOnDestroy",value:function(){this.store.dispatch(new g(null))}}]),n}(me.a)).\u0275fac=function(e){return new(e||it)(be.Qb(i.h),be.Qb(r.a))},it.\u0275cmp=be.Kb({type:it,selectors:[["company-employee-details-page"]],features:[be.Ab],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mt-4","mb-4"],[3,"employee","companyName"],[1,"row"],[1,"col-sm-12","col-md-6","mb-2"]],template:function(e,t){1&e&&(be.Ec(0,rt,11,4,"div",0),be.jc(1,"async")),2&e&&be.oc("ngIf",be.kc(1,1,t.model$))},directives:[ye.l,De,Ge,_e.a,He,ct],pipes:[ye.b],styles:[".employee-services-container[_ngcontent-%COMP%]{padding:1rem}"],changeDetection:0}),it),at=n("vqYj");function ot(e,t){if(1&e&&be.Rb(0,"shared-company-avatar",1),2&e){var n=t.ngIf;be.oc("logo",n.avatar)("name",n.name)("address",n.address)}}var ut,lt=((ut=function e(t){_classCallCheck(this,e),this.store=t,this.company$=t.select(E)}).\u0275fac=function(e){return new(e||ut)(be.Qb(i.h))},ut.\u0275cmp=be.Kb({type:ut,selectors:[["company-logo-shell"]],decls:2,vars:3,consts:[[3,"logo","name","address",4,"ngIf"],[3,"logo","name","address"]],template:function(e,t){1&e&&(be.Ec(0,ot,1,3,"shared-company-avatar",0),be.jc(1,"async")),2&e&&be.oc("ngIf",be.kc(1,1,t.company$))},directives:[ye.l,at.a],pipes:[ye.b],styles:[""]}),ut);function pt(e,t){if(1&e){var n=be.Xb();be.Wb(0,"div",6),be.ec("click",(function(){be.yc(n);var e=t.$implicit;return be.ic().update(e.id)})),be.Gc(1),be.Vb()}if(2&e){var c=t.$implicit,r=be.ic();be.Hb("selected-category",c.id===r.currentCategoryId),be.Db(1),be.Ic(" ",c.name," ")}}function dt(e,t){if(1&e){var n=be.Xb();be.Wb(0,"div",7),be.Wb(1,"company-service-list-card",8),be.ec("click",(function(){be.yc(n);var e=t.$implicit;return be.ic().selectService.emit(e.id)})),be.Vb(),be.Vb()}if(2&e){var c=t.$implicit,r=be.ic();be.Db(1),be.oc("service",c)("checked",c.id===r.currentServiceId)}}var bt,ft,mt=((ft=function(){function e(){_classCallCheck(this,e),this.selectCategory=new be.o,this.selectService=new be.o,this.animationState=!1}return _createClass(e,[{key:"update",value:function(e){this.animationState=!this.animationState,this.selectCategory.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||ft)},ft.\u0275cmp=be.Kb({type:ft,selectors:[["company-service-list"]],inputs:{isMobile:"isMobile",services:"services",categories:"categories",currentCategoryId:"currentCategoryId",currentServiceId:"currentServiceId"},outputs:{selectCategory:"selectCategory",selectService:"selectService"},decls:7,vars:5,consts:[[1,"row"],[1,"col-sm-12","col-md-3","col-lg-2","mb-4"],["class","mb-4 s-l-item",3,"selected-category","click",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-9","col-lg-10"],[1,"row","pretty-scroll"],["class","col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"mb-4","s-l-item",3,"click"],[1,"col-sm-12","col-md-6"],[3,"service","checked","click"]],template:function(e,t){1&e&&(be.Wb(0,"app-kalendario-card"),be.Wb(1,"div",0),be.Wb(2,"div",1),be.Ec(3,pt,2,3,"div",2),be.Vb(),be.Wb(4,"div",3),be.Wb(5,"div",4),be.Ec(6,dt,2,2,"div",5),be.Vb(),be.Vb(),be.Vb(),be.Vb()),2&e&&(be.Db(2),be.Hb("text-center",t.isMobile),be.Db(1),be.oc("ngForOf",t.categories),be.Db(2),be.oc("@staggeredFadeIn",t.animationState),be.Db(1),be.oc("ngForOf",t.services))},directives:[_e.a,ye.k,Pe],styles:[".s-l-container[_ngcontent-%COMP%]{display:flex;padding:2em}.pretty-scroll[_ngcontent-%COMP%]{max-height:400px;min-height:400px;width:100%;overflow-y:scroll}.selected-category[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.s-l-categories[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px;margin-right:2em;font-weight:600;font-size:14px;line-height:17px;letter-spacing:.12em}"],data:{animation:[he.b]}}),ft),ht=((bt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var c;return _classCallCheck(this,n),(c=t.call(this,e)).services$=c.store.select(T),c.categories$=c.store.select(N),c.currentCategoryId$=c.store.select(G),c.currentServiceId$=c.store.select(Z),c}return _createClass(n,[{key:"updateSelectedCategory",value:function(e){this.store.dispatch(new O(e))}},{key:"updateSelectedService",value:function(e){this.store.dispatch(new C(e)),this.store.dispatch(new D)}}]),n}(me.a)).\u0275fac=function(e){return new(e||bt)(be.Qb(i.h))},bt.\u0275cmp=be.Kb({type:bt,selectors:[["company-services-shell"]],features:[be.Ab],decls:6,vars:15,consts:[[3,"services","categories","currentCategoryId","currentServiceId","isMobile","selectCategory","selectService"]],template:function(e,t){1&e&&(be.Wb(0,"company-service-list",0),be.ec("selectCategory",(function(e){return t.updateSelectedCategory(e)}))("selectService",(function(e){return t.updateSelectedService(e)})),be.jc(1,"async"),be.jc(2,"async"),be.jc(3,"async"),be.jc(4,"async"),be.jc(5,"async"),be.Vb()),2&e&&be.oc("services",be.kc(1,5,t.services$))("categories",be.kc(2,7,t.categories$))("currentCategoryId",be.kc(3,9,t.currentCategoryId$))("currentServiceId",be.kc(4,11,t.currentServiceId$))("isMobile",be.kc(5,13,t.isMobile$))},directives:[mt],pipes:[ye.b],styles:[""]}),bt);function yt(e,t){if(1&e&&(be.Wb(0,"div"),be.Wb(1,"div",1),be.Wb(2,"div",2),be.Rb(3,"company-logo-shell"),be.Vb(),be.Wb(4,"div",2),be.Wb(5,"div",3),be.Gc(6,"ALL SERVICES"),be.Vb(),be.Rb(7,"company-services-shell"),be.Vb(),be.Wb(8,"div",2),be.Wb(9,"div",4),be.Gc(10,"OUR TEAM"),be.Vb(),be.Rb(11,"company-employees-shell"),be.Vb(),be.Wb(12,"div",2),be.Wb(13,"h1"),be.Gc(14,"ABOUT US"),be.Vb(),be.Gc(15),be.Vb(),be.Vb(),be.Vb()),2&e){var n=t.ngIf;be.Db(1),be.oc("@fadeInOnEnter",void 0),be.Db(4),be.oc("@fadeInDownOnEnter",void 0),be.Db(4),be.oc("@fadeInDownOnEnter",void 0),be.Db(4),be.oc("@fadeInDownOnEnter",void 0),be.Db(2),be.Ic(" ",n.about," ")}}var vt,gt=((vt=function e(t){_classCallCheck(this,e),this.store=t,this.company$=this.store.select(E)}).\u0275fac=function(e){return new(e||vt)(be.Qb(i.h))},vt.\u0275cmp=be.Kb({type:vt,selectors:[["company-landing-page"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container","kalendario-company"],[1,"mb-100"],[1,"h1"],[1,"col-12","h1"]],template:function(e,t){1&e&&(be.Ec(0,yt,16,5,"div",0),be.jc(1,"async")),2&e&&be.oc("ngIf",be.kc(1,1,t.company$))},directives:[ye.l,lt,ht,we],pipes:[ye.b],styles:[""],data:{animation:[Object(Ie.e)(),Object(Ie.d)()]},changeDetection:0}),vt);function Ct(e,t){if(1&e){var n=be.Xb();be.Wb(0,"button",8),be.ec("click",(function(){be.yc(n);var e=be.ic().$implicit;return be.ic().remove.emit(e.id)})),be.Rb(1,"i",9),be.Vb()}}function Ot(e,t){if(1&e&&(be.Ub(0),be.Wb(1,"div",5),be.Wb(2,"h6"),be.Gc(3),be.Vb(),be.Wb(4,"p"),be.Gc(5),be.Vb(),be.Vb(),be.Wb(6,"div",6),be.Wb(7,"h6"),be.Gc(8),be.Vb(),be.Ec(9,Ct,2,0,"button",7),be.Vb(),be.Tb()),2&e){var n=t.$implicit,c=be.ic();be.oc("@slideOutLeftOnLeave",void 0),be.Db(3),be.Hc(n.service.name),be.Db(2),be.Jc(" ",n.start.format("DD/MM/YYYY - HH:mm")," (duration: ",n.service.duration,") "),be.Db(3),be.Hc(n.service.price),be.Db(1),be.oc("ngIf",c.showBin)}}var kt,jt=((kt=function e(){_classCallCheck(this,e),this.remove=new be.o}).\u0275fac=function(e){return new(e||kt)},kt.\u0275cmp=be.Kb({type:kt,selectors:[["company-request-item"]],inputs:{requestItem:"requestItem",showBin:"showBin"},outputs:{remove:"remove"},decls:7,vars:3,consts:[[1,"r-i-container"],[1,"mt-3","company-circle-img-7",3,"src"],[1,"row","w-100","ml-2"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"col-9"],[1,"col-3","text-right","c-primary"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"],[1,"fa","fa-trash"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.Rb(1,"img",1),be.Wb(2,"div",2),be.Wb(3,"div",3),be.Wb(4,"h4"),be.Gc(5),be.Vb(),be.Vb(),be.Ec(6,Ot,10,6,"ng-container",4),be.Vb(),be.Vb()),2&e&&(be.Db(1),be.pc("src",t.requestItem.employee.photoUrl,be.zc),be.Db(4),be.Hc(t.requestItem.employee.name),be.Db(1),be.oc("ngForOf",t.requestItem.appointments))},directives:[ye.k,ye.l],styles:[".r-i-container[_ngcontent-%COMP%]{display:flex;margin-bottom:2rem}.company-circle-img-7[_ngcontent-%COMP%]{width:5rem;height:5rem}h4[_ngcontent-%COMP%]{border-bottom:1px solid grey}"],data:{animation:[Object(Ie.h)()]}}),kt);function St(e,t){if(1&e){var n=be.Xb();be.Wb(0,"company-request-item",1),be.ec("remove",(function(e){return be.yc(n),be.ic().remove.emit(e)})),be.Vb()}if(2&e){var c=t.$implicit,r=be.ic();be.oc("requestItem",c)("showBin",!r.checkoutMode)}}var wt,Dt,It=((Dt=function e(){_classCallCheck(this,e),this.remove=new be.o}).\u0275fac=function(e){return new(e||Dt)},Dt.\u0275cmp=be.Kb({type:Dt,selectors:[["company-request"]],inputs:{request:"request",checkoutMode:"checkoutMode"},outputs:{remove:"remove"},decls:1,vars:1,consts:[[3,"requestItem","showBin","remove",4,"ngFor","ngForOf"],[3,"requestItem","showBin","remove"]],template:function(e,t){1&e&&be.Ec(0,St,1,2,"company-request-item",0),2&e&&be.oc("ngForOf",null==t.request?null:t.request.items)},directives:[ye.k,jt],styles:[""]}),Dt),qt=((wt=function(){function e(){_classCallCheck(this,e),this.confirm=new be.o}return _createClass(e,[{key:"request",get:function(){return this._request},set:function(e){this._request=e,this.customerNotes=e.customerNotes}},{key:"confirmRequest",value:function(){this.confirm.emit(this.customerNotes)}}]),e}()).\u0275fac=function(e){return new(e||wt)},wt.\u0275cmp=be.Kb({type:wt,selectors:[["company-cart-summary"]],inputs:{request:"request",company:"company",paymentDetails:"paymentDetails",preBookMessage:"preBookMessage"},outputs:{confirm:"confirm"},decls:13,vars:2,consts:[[1,"row","m-4"],[1,"col-12"],[1,"col-12","m-4"],["matInput","","placeholder","additional information",3,"ngModel","ngModelChange"],[1,"btn","btn-block","btn-primary",3,"click"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.Wb(1,"div",1),be.Rb(2,"company-logo-shell"),be.Vb(),be.Wb(3,"div",2),be.Wb(4,"p"),be.Gc(5),be.Vb(),be.Vb(),be.Wb(6,"div",1),be.Wb(7,"mat-form-field"),be.Wb(8,"mat-label"),be.Gc(9,"Add Notes"),be.Vb(),be.Wb(10,"textarea",3),be.ec("ngModelChange",(function(e){return t.customerNotes=e})),be.Vb(),be.Vb(),be.Wb(11,"button",4),be.ec("click",(function(){return t.confirmRequest()})),be.Gc(12,"Proceed to Checkout"),be.Vb(),be.Vb(),be.Vb()),2&e&&(be.Db(5),be.Ic(" ",t.preBookMessage," "),be.Db(5),be.oc("ngModel",t.customerNotes))},directives:[lt,Te.d,Te.g,Ke.b,qe.c,qe.n,qe.q],styles:[".row[_ngcontent-%COMP%]{font-weight:500}"]}),wt);function _t(e,t){if(1&e){var n=be.Xb();be.Wb(0,"div",2),be.Wb(1,"div",3),be.Wb(2,"app-kalendario-card"),be.Wb(3,"company-request",4),be.ec("remove",(function(e){return be.yc(n),be.ic().removeItem(e)})),be.Vb(),be.Vb(),be.Vb(),be.Wb(4,"div",3),be.Wb(5,"app-kalendario-card"),be.Wb(6,"company-cart-summary",5),be.ec("confirm",(function(e){return be.yc(n),be.ic().addNotes(e)})),be.jc(7,"async"),be.jc(8,"async"),be.jc(9,"async"),be.Vb(),be.Vb(),be.Vb(),be.Vb()}if(2&e){var c=t.ngIf,r=be.ic();be.Db(3),be.oc("request",c),be.Db(3),be.oc("request",c)("company",be.kc(7,5,r.company$))("preBookMessage",be.kc(8,7,r.preBookMessage$))("paymentDetails",be.kc(9,9,r.paymentDetails$))}}var Rt,Pt,Vt,Wt,Mt,$t,xt,At,Et,Ft,Nt,Gt=((Rt=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.request$=this.store.select(ae),this.company$=this.store.select(E),this.paymentDetails$=this.store.select(oe),this.preBookMessage$=this.store.select(se)}},{key:"ngOnDestroy",value:function(){this.store.dispatch(new P(null)),this.store.dispatch(new V(!1))}},{key:"removeItem",value:function(e){this.store.dispatch(new I(e))}},{key:"addNotes",value:function(e){this.store.dispatch(new q(e))}}]),e}()).\u0275fac=function(e){return new(e||Rt)(be.Qb(i.h))},Rt.\u0275cmp=be.Kb({type:Rt,selectors:[["app-cart-page"]],decls:3,vars:3,consts:[[1,"container"],["class","row mt-4",4,"ngIf"],[1,"row","mt-4"],[1,"col-sm-12","col-md-6"],[3,"request","remove"],[3,"request","company","preBookMessage","paymentDetails","confirm"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.Ec(1,_t,10,11,"div",1),be.jc(2,"async"),be.Vb()),2&e&&(be.Db(1),be.oc("ngIf",be.kc(2,1,t.request$)))},directives:[ye.l,_e.a,It,qt],pipes:[ye.b],styles:[""],changeDetection:0}),Rt),Tt=n("PC/O"),Kt=n("mrSG"),Lt=n("SxV6"),Bt=n("lJxs"),Ht=n("eIep"),Qt=n("2Vo4"),Ut=n("Cfvw"),Yt=["stripeElementRef"],Xt=new be.r("Stripe Publishable Key"),zt=new be.r("Stripe Options"),Jt=((Wt=function(){function e(t){_classCallCheck(this,e),this.platformId=t}return _createClass(e,[{key:"getNativeWindow",value:function(){return Object(ye.v)(this.platformId)?window:{}}}]),e}()).\u0275fac=function(e){return new(e||Wt)(be.ac(be.C))},Wt.\u0275prov=be.Mb({token:Wt,factory:Wt.\u0275fac}),Wt),Zt=((Vt=function(){function e(t){_classCallCheck(this,e),this.platformId=t}return _createClass(e,[{key:"getNativeDocument",value:function(){return Object(ye.v)(this.platformId)?document:{}}}]),e}()).\u0275fac=function(e){return new(e||Vt)(be.ac(be.C))},Vt.\u0275prov=be.Mb({token:Vt,factory:Vt.\u0275fac}),Vt),en=((Pt=function(){function e(t,n,c){_classCallCheck(this,e),this.platformId=t,this.window=n,this.document=c,this.status=new Qt.a({error:!1,loaded:!1,loading:!1})}return _createClass(e,[{key:"asStream",value:function(){return this.load(),this.status.asObservable()}},{key:"isReady",value:function(){return this.status.getValue().loaded}},{key:"load",value:function(){var e=this;if(!Object(ye.w)(this.platformId)){var t=this.status.getValue();if(this.window.getNativeWindow().hasOwnProperty("Stripe"))this.status.next({error:!1,loaded:!0,loading:!1});else if(!t.loaded&&!t.loading){this.status.next(Object.assign(Object.assign({},t),{loading:!0}));var n=this.document.getNativeDocument().createElement("script");n.type="text/javascript",n.async=!0,n.defer=!0,n.src="https://js.stripe.com/v3/",n.onload=function(){e.status.next({error:!1,loaded:!0,loading:!1})},n.onerror=function(){e.status.next({error:!0,loaded:!1,loading:!1})},this.document.getNativeDocument().body.appendChild(n)}}}}]),e}()).\u0275fac=function(e){return new(e||Pt)(be.ac(be.C),be.ac(Jt),be.ac(Zt))},Pt.\u0275prov=be.Mb({token:Pt,factory:Pt.\u0275fac}),Pt),tn=function(){function e(t,n,c,r){var i=this;_classCallCheck(this,e),this.loader=t,this.window=n,this.key=c,this.options=r,this.stripe$=new Qt.a(void 0),this.stripe=this.stripe$.asObservable().pipe(Object(s.a)((function(e){return Boolean(e)}))),this.loader.asStream().pipe(Object(s.a)((function(e){return!0===e.loaded})),Object(Lt.a)(),Object(Bt.a)((function(){return i.window.getNativeWindow().Stripe}))).subscribe((function(e){var t=i.options?e(i.key,i.options):e(i.key);i.stripe$.next(t)}))}return _createClass(e,[{key:"getInstance",value:function(){return this.stripe$.getValue()}},{key:"elements",value:function(e){return this.stripe$.asObservable().pipe(Object(s.a)((function(e){return Boolean(e)})),Object(Bt.a)((function(t){return t.elements(e)})),Object(Lt.a)())}},{key:"redirectToCheckout",value:function(e){return this.stripe.pipe(Object(Ht.a)((function(t){return Object(Ut.a)(t.redirectToCheckout(e))})),Object(Lt.a)())}},{key:"confirmAuBecsDebitPayment",value:function(e,t){return this.stripe.pipe(Object(Ht.a)((function(n){return Object(Ut.a)(n.confirmAuBecsDebitPayment(e,t))})),Object(Lt.a)())}},{key:"confirmBancontactPayment",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.confirmBancontactPayment(e,t,n))})),Object(Lt.a)())}},{key:"confirmCardPayment",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.confirmCardPayment(e,t,n))})),Object(Lt.a)())}},{key:"confirmEpsPayment",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.confirmEpsPayment(e,t,n))})),Object(Lt.a)())}},{key:"confirmFpxPayment",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.confirmFpxPayment(e,t,n))})),Object(Lt.a)())}},{key:"confirmGiropayPayment",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.confirmGiropayPayment(e,t,n))})),Object(Lt.a)())}},{key:"confirmIdealPayment",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.confirmIdealPayment(e,t,n))})),Object(Lt.a)())}},{key:"confirmP24Payment",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.confirmP24Payment(e,t,n))})),Object(Lt.a)())}},{key:"confirmSepaDebitPayment",value:function(e,t){return this.stripe.pipe(Object(Ht.a)((function(n){return Object(Ut.a)(n.confirmSepaDebitPayment(e,t))})),Object(Lt.a)())}},{key:"handleCardAction",value:function(e){return this.stripe.pipe(Object(Ht.a)((function(t){return Object(Ut.a)(t.handleCardAction(e))})),Object(Lt.a)())}},{key:"createPaymentMethod",value:function(e){return this.stripe.pipe(Object(Ht.a)((function(t){return Object(Ut.a)(t.createPaymentMethod(e))})),Object(Lt.a)())}},{key:"retrievePaymentIntent",value:function(e){return this.stripe.pipe(Object(Ht.a)((function(t){return Object(Ut.a)(t.retrievePaymentIntent(e))})),Object(Lt.a)())}},{key:"confirmAuBecsDebitSetup",value:function(e,t){return this.stripe.pipe(Object(Ht.a)((function(n){return Object(Ut.a)(n.confirmAuBecsDebitSetup(e,t))})),Object(Lt.a)())}},{key:"confirmCardSetup",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.confirmCardSetup(e,t,n))})),Object(Lt.a)())}},{key:"confirmSepaDebitSetup",value:function(e,t){return this.stripe.pipe(Object(Ht.a)((function(n){return Object(Ut.a)(n.confirmSepaDebitSetup(e,t))})),Object(Lt.a)())}},{key:"retrieveSetupIntent",value:function(e){return this.stripe.pipe(Object(Ht.a)((function(t){return Object(Ut.a)(t.confirmSepaDebitSetup(e))})),Object(Lt.a)())}},{key:"paymentRequest",value:function(e){var t=this.getInstance();return t?t.paymentRequest(e):void 0}},{key:"createToken",value:function(e,t){return this.stripe.pipe(Object(Ht.a)((function(n){return Object(Ut.a)(n.createToken(e,t))})),Object(Lt.a)())}},{key:"createSource",value:function(e,t){return this.stripe.pipe(Object(Ht.a)((function(n){return Object(Ut.a)(n.createSource(e,t))})),Object(Lt.a)())}},{key:"retrieveSource",value:function(e){return this.stripe.pipe(Object(Ht.a)((function(t){return Object(Ut.a)(t.retrieveSource(e))})),Object(Lt.a)())}},{key:"handleCardPayment",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.handleCardPayment(e,t,n))})),Object(Lt.a)())}},{key:"confirmPaymentIntent",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.confirmPaymentIntent(e,t,n))})),Object(Lt.a)())}},{key:"handleCardSetup",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.handleCardSetup(e,t,n))})),Object(Lt.a)())}},{key:"confirmSetupIntent",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.confirmSetupIntent(e,t,n))})),Object(Lt.a)())}},{key:"handleFpxPayment",value:function(e,t,n){return this.stripe.pipe(Object(Ht.a)((function(c){return Object(Ut.a)(c.handleFpxPayment(e,t,n))})),Object(Lt.a)())}}]),e}(),nn=((At=function(){function e(t,n,c,r){_classCallCheck(this,e),this.key=t,this.options=n,this.loader=c,this.window=r,t&&(this.stripe=new tn(this.loader,this.window,t,n))}return _createClass(e,[{key:"getStripeReference",value:function(){var e=this;return this.loader.asStream().pipe(Object(s.a)((function(e){return!0===e.loaded})),Object(Bt.a)((function(){return e.window.getNativeWindow().Stripe})))}},{key:"getInstance",value:function(){return this.stripe.getInstance()}},{key:"setKey",value:function(e,t){return this.changeKey(e,t)}},{key:"changeKey",value:function(e,t){return this.stripe=new tn(this.loader,this.window,e,t),this.stripe}},{key:"elements",value:function(e){return this.stripe.elements(e)}},{key:"redirectToCheckout",value:function(e){return this.stripe.redirectToCheckout(e)}},{key:"confirmAuBecsDebitPayment",value:function(e,t){return this.stripe.confirmAuBecsDebitPayment(e,t)}},{key:"confirmBancontactPayment",value:function(e,t,n){return this.stripe.confirmBancontactPayment(e,t,n)}},{key:"confirmCardPayment",value:function(e,t,n){return this.stripe.confirmCardPayment(e,t,n)}},{key:"confirmEpsPayment",value:function(e,t,n){return this.stripe.confirmEpsPayment(e,t,n)}},{key:"confirmFpxPayment",value:function(e,t,n){return this.stripe.confirmFpxPayment(e,t,n)}},{key:"confirmGiropayPayment",value:function(e,t,n){return this.stripe.confirmGiropayPayment(e,t,n)}},{key:"confirmIdealPayment",value:function(e,t,n){return this.stripe.confirmIdealPayment(e,t,n)}},{key:"confirmP24Payment",value:function(e,t,n){return this.stripe.confirmP24Payment(e,t,n)}},{key:"confirmSepaDebitPayment",value:function(e,t){return this.stripe.confirmSepaDebitPayment(e,t)}},{key:"handleCardAction",value:function(e){return this.stripe.handleCardAction(e)}},{key:"createPaymentMethod",value:function(e){return this.stripe.createPaymentMethod(e)}},{key:"retrievePaymentIntent",value:function(e){return this.stripe.retrievePaymentIntent(e)}},{key:"confirmAuBecsDebitSetup",value:function(e,t){return this.stripe.confirmAuBecsDebitSetup(e,t)}},{key:"confirmCardSetup",value:function(e,t,n){return this.stripe.confirmCardSetup(e,t,n)}},{key:"confirmSepaDebitSetup",value:function(e,t){return this.stripe.confirmSepaDebitSetup(e,t)}},{key:"retrieveSetupIntent",value:function(e){return this.stripe.retrieveSetupIntent(e)}},{key:"paymentRequest",value:function(e){return this.stripe.paymentRequest(e)}},{key:"createToken",value:function(e,t){return this.stripe.createToken(e,t)}},{key:"createSource",value:function(e,t){return this.stripe.createSource(e,t)}},{key:"retrieveSource",value:function(e){return this.stripe.retrieveSource(e)}},{key:"handleCardPayment",value:function(e,t,n){return this.stripe.handleCardPayment(e,t,n)}},{key:"confirmPaymentIntent",value:function(e,t,n){return this.stripe.confirmPaymentIntent(e,t,n)}},{key:"handleCardSetup",value:function(e,t,n){return this.stripe.handleCardSetup(e,t,n)}},{key:"confirmSetupIntent",value:function(e,t,n){return this.stripe.confirmSetupIntent(e,t,n)}},{key:"handleFpxPayment",value:function(e,t,n){return this.stripe.handleFpxPayment(e,t,n)}}]),e}()).\u0275fac=function(e){return new(e||At)(be.ac(Xt),be.ac(zt),be.ac(en),be.ac(Jt))},At.\u0275prov=be.Mb({token:At,factory:At.\u0275fac}),At),cn=((xt=function(){function e(t){_classCallCheck(this,e),this.stripeService=t}return _createClass(e,[{key:"elements",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?Object.keys(t).length>0?e.elements(t):e.elements():Object.keys(t).length>0?this.stripeService.elements(t):this.stripeService.elements()}},{key:"paymentRequest",value:function(e,t){return e?e.paymentRequest(t):this.stripeService.paymentRequest(t)}},{key:"mergeOptions",value:function(e,t){return!t||e&&e.classes?e||{}:e&&e.classes?e||{}:Object.assign(Object.assign({},e||{}),{classes:{base:t,complete:"".concat(t,"--complete"),empty:"".concat(t,"--empty"),focus:"".concat(t,"--focus"),invalid:"".concat(t,"--invalid"),webkitAutoFill:"".concat(t,"--webkit-autoFill")}})}}]),e}()).\u0275fac=function(e){return new(e||xt)(be.ac(nn))},xt.\u0275prov=be.Mb({token:xt,factory:xt.\u0275fac}),xt),rn=(($t=function(){function e(t){_classCallCheck(this,e),this.stripeElementsService=t,this.load=new be.o,this.blur=new be.o,this.change=new be.o,this.focus=new be.o,this.ready=new be.o,this.escape=new be.o,this.state="notready"}return _createClass(e,[{key:"ngOnChanges",value:function(e){return Object(Kt.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state="starting",n=this.stripeElementsService.mergeOptions(this.options,this.containerClass),c=!1,t.t0=e.elementsOptions||e.stripe||!this.elements,!t.t0){t.next=9;break}return t.next=7,this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise();case 7:this.elements=t.sent,c=!0;case 9:(e.options||e.containerClass||!this.element||c)&&(this.element&&!c?this.update(n):this.elements&&c&&this.createElement(n)),this.state="ready";case 11:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnInit",value:function(){return Object(Kt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="notready"===this.state,!e.t0){e.next=8;break}return this.state="starting",e.next=5,this.stripeElementsService.elements(this.stripe).toPromise();case 5:this.elements=e.sent,this.createElement(),this.state="ready";case 8:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.element&&this.element.destroy()}},{key:"update",value:function(e){this.element.update(e)}},{key:"getCard",value:function(){return this.element}},{key:"createElement",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.element=this.elements.create("card",t),this.element.on("change",(function(t){return e.change.emit(t)})),this.element.on("blur",(function(){return e.blur.emit()})),this.element.on("focus",(function(){return e.focus.emit()})),this.element.on("ready",(function(){return e.ready.emit()})),this.element.on("escape",(function(){return e.escape.emit()})),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}}]),e}()).\u0275fac=function(e){return new(e||$t)(be.Qb(cn))},$t.\u0275cmp=be.Kb({type:$t,selectors:[["ngx-stripe-card"]],viewQuery:function(e,t){var n;1&e&&be.Mc(Yt,!0),2&e&&be.uc(n=be.fc())&&(t.stripeElementRef=n.first)},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[be.Bb],decls:2,vars:0,consts:[[1,"field"],["stripeElementRef",""]],template:function(e,t){1&e&&be.Rb(0,"div",0,1)},encapsulation:2}),$t),sn=((Mt=function(){function e(t,n,c,r){_classCallCheck(this,e),this.baseKey=t,this.baseOptions=n,this.loader=c,this.window=r}return _createClass(e,[{key:"create",value:function(e,t){return e||this.baseKey?new tn(this.loader,this.window,e||this.baseKey,t||this.baseOptions):null}}]),e}()).\u0275fac=function(e){return new(e||Mt)(be.ac(Xt),be.ac(zt),be.ac(en),be.ac(Jt))},Mt.\u0275prov=be.Mb({token:Mt,factory:Mt.\u0275fac}),Mt),an=((Nt=Et=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(e,t){return{ngModule:Et,providers:[en,nn,sn,cn,Jt,Zt,{provide:Xt,useValue:e},{provide:zt,useValue:t}]}}},{key:"forChild",value:function(e,t){return{ngModule:Et,providers:[en,nn,sn,cn,Jt,Zt,{provide:Xt,useValue:e},{provide:zt,useValue:t}]}}}]),e}()).\u0275mod=be.Ob({type:Nt}),Nt.\u0275inj=be.Nb({factory:function(e){return new(e||Nt)}}),Nt),on=((Ft=function(){function e(t){_classCallCheck(this,e),this.stripeService=t,this.confirmPay=new be.o,this.cardOptions={style:un}}return _createClass(e,[{key:"emitPay",value:function(){return Object(Kt.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stripeService.confirmCardPayment(this.clientSecret,{payment_method:{card:this.card.element}}).toPromise().then((function(e){var n=e.paymentIntent,c=e.error;c&&(t.error=c),n&&t.confirmPay.emit(n)}));case 1:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Ft)(be.Qb(nn))},Ft.\u0275cmp=be.Kb({type:Ft,selectors:[["stripe-card-element"]],viewQuery:function(e,t){var n;1&e&&be.Mc(rn,!0),2&e&&be.uc(n=be.fc())&&(t.card=n.first)},inputs:{clientSecret:"clientSecret",total:"total"},outputs:{confirmPay:"confirmPay"},decls:13,vars:3,consts:[[1,"row"],[1,"col-12","stripe-card-container"],[3,"options"],[1,"c-warn"],[1,"col-12","text-right"],[1,"btn","btn-danger"],[1,"btn","btn-primary-gradient",3,"click"],[1,"pay-container"],[1,"ammount-container"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.Wb(1,"div",1),be.Rb(2,"ngx-stripe-card",2),be.Wb(3,"div",3),be.Gc(4),be.Vb(),be.Vb(),be.Wb(5,"div",4),be.Wb(6,"button",5),be.Gc(7,"Cancel"),be.Vb(),be.Wb(8,"button",6),be.ec("click",(function(){return t.emitPay()})),be.Wb(9,"span",7),be.Gc(10,"Pay"),be.Vb(),be.Wb(11,"span",8),be.Gc(12),be.Vb(),be.Vb(),be.Vb(),be.Vb()),2&e&&(be.Db(2),be.oc("options",t.cardOptions),be.Db(2),be.Ic(" ",null==t.error?null:t.error.message," "),be.Db(8),be.Hc(t.total))},directives:[rn],styles:[".stripe-card-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.15);box-shadow:0 5px 10px rgba(0,0,0,.15);border-radius:8px;padding-top:.5rem;padding-bottom:.5rem;margin-bottom:2rem}.pay-container[_ngcontent-%COMP%]{margin-right:.5rem}"]}),Ft),un={base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}};function ln(e,t){if(1&e){var n=be.Xb();be.Wb(0,"div",8),be.Wb(1,"stripe-card-element",9),be.ec("confirmPay",(function(){return be.yc(n),be.ic().confirm.emit()})),be.jc(2,"currency"),be.Vb(),be.Vb()}if(2&e){var c=be.ic();be.Db(1),be.oc("total",be.lc(2,2,c.request.total,"\u20ac"))("clientSecret",c.paymentDetails.clientSecret)}}function pn(e,t){if(1&e){var n=be.Xb();be.Wb(0,"button",12),be.ec("click",(function(){be.yc(n);var e=be.ic(2);return e.requestPaymentDetails.emit(e.request.id)})),be.Gc(1," Pay with Card "),be.Vb()}}function dn(e,t){if(1&e){var n=be.Xb();be.Wb(0,"button",13),be.ec("click",(function(){return be.yc(n),be.ic(2).confirm.emit()})),be.Gc(1," Pay Cash Onsite "),be.Vb()}}function bn(e,t){if(1&e&&(be.Wb(0,"div",8),be.Ec(1,pn,2,0,"button",10),be.Ec(2,dn,2,0,"button",11),be.Vb()),2&e){var n=be.ic();be.Db(1),be.oc("ngIf",n.company.config.canReceiveCardPayments),be.Db(1),be.oc("ngIf",n.company.config.canReceiveUnpaidRequest)}}var fn,mn=((fn=function e(){_classCallCheck(this,e),this.requestPaymentDetails=new be.o,this.confirm=new be.o}).\u0275fac=function(e){return new(e||fn)},fn.\u0275cmp=be.Kb({type:fn,selectors:[["company-checkout"]],inputs:{paymentDetails:"paymentDetails",request:"request",company:"company"},outputs:{requestPaymentDetails:"requestPaymentDetails",confirm:"confirm"},decls:15,vars:7,consts:[[1,"row"],[1,"col-12","m-2"],[1,"col-9","h5"],[1,"col-3","h5","text-right","c-primary"],[1,"col-12","mt-4"],[1,"additional-info-box"],[1,"additional-info-box-title","text-small"],["class","col-12",4,"ngIf"],[1,"col-12"],[3,"total","clientSecret","confirmPay"],["class","btn btn-primary mr-2",3,"click",4,"ngIf"],["class","btn btn-accent",3,"click",4,"ngIf"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-accent",3,"click"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.Rb(1,"div",1),be.Wb(2,"div",2),be.Gc(3," TOTAL "),be.Vb(),be.Wb(4,"div",3),be.Gc(5),be.jc(6,"currency"),be.Vb(),be.Wb(7,"div",4),be.Wb(8,"div",5),be.Wb(9,"div",6),be.Gc(10,"Notes"),be.Vb(),be.Wb(11,"p"),be.Gc(12),be.Vb(),be.Vb(),be.Vb(),be.Ec(13,ln,3,5,"div",7),be.Ec(14,bn,3,2,"div",7),be.Vb()),2&e&&(be.Db(5),be.Hc(be.lc(6,4,t.request.total,"\u20ac")),be.Db(7),be.Hc(t.request.customerNotes),be.Db(1),be.oc("ngIf",t.paymentDetails),be.Db(1),be.oc("ngIf",!t.paymentDetails))},directives:[ye.l,on],pipes:[ye.d],styles:[".additional-info-box-title[_ngcontent-%COMP%]{position:relative;bottom:1rem;background-color:#fff;display:inline-block}.additional-info-box[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.15);border-radius:8px;margin-bottom:1.5rem;padding:0 1rem}"]}),fn);function hn(e,t){if(1&e){var n=be.Xb();be.Wb(0,"div",2),be.Wb(1,"div",3),be.Rb(2,"company-logo-shell"),be.Vb(),be.Wb(3,"div",4),be.Rb(4,"company-request",5),be.Wb(5,"company-checkout",6),be.ec("requestPaymentDetails",(function(e){return be.yc(n),be.ic().requestPaymentDetails(e)}))("confirm",(function(){return be.yc(n),be.ic().submitRequest()})),be.jc(6,"async"),be.jc(7,"async"),be.Vb(),be.Vb(),be.Vb()}if(2&e){var c=t.ngIf,r=be.ic();be.Db(4),be.oc("request",c)("checkoutMode",!0),be.Db(1),be.oc("request",c)("company",be.kc(6,5,r.company$))("paymentDetails",be.kc(7,7,r.paymentDetails$))}}var yn,vn,gn,Cn,On,kn=[{path:":cid",component:fe,children:[{path:"staff",component:we},{path:"staff/:id",component:st},{path:"cart",component:Gt,canActivate:[Tt.a]},{path:"checkout",component:(yn=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.company$=this.store.select(E),this.request$=this.store.select(ae),this.paymentDetails$=this.store.select(oe)}},{key:"requestPaymentDetails",value:function(e){this.store.dispatch(new R(e))}},{key:"submitRequest",value:function(){this.store.dispatch(new _)}}]),e}(),yn.\u0275fac=function(e){return new(e||yn)(be.Qb(i.h))},yn.\u0275cmp=be.Kb({type:yn,selectors:[["app-checkout-page"]],decls:4,vars:3,consts:[[1,"container","pt-4"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12","mb-4"],[1,"col-12"],[3,"request","checkoutMode"],[3,"request","company","paymentDetails","requestPaymentDetails","confirm"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.Wb(1,"app-kalendario-card"),be.Ec(2,hn,8,9,"div",1),be.jc(3,"async"),be.Vb(),be.Vb()),2&e&&(be.Db(2),be.oc("ngIf",be.kc(3,1,t.request$)))},directives:[_e.a,ye.l,lt,It,mn],pipes:[ye.b],styles:[""]}),yn),canActivate:[Tt.a]},{path:"",component:gt}]}],jn=((vn=function e(){_classCallCheck(this,e)}).\u0275mod=be.Ob({type:vn}),vn.\u0275inj=be.Nb({factory:function(e){return new(e||vn)},imports:[[r.f.forChild(kn)],r.f]}),vn),Sn=n("snw9"),wn=n("LRne"),Dn=n("5+tZ"),In=n("JIr8"),qn=n("zp1y"),_n=n("vkgz"),Rn=n("0IaG"),Pn=((gn=function e(t){_classCallCheck(this,e),this.dialogRef=t}).\u0275fac=function(e){return new(e||gn)(be.Qb(Rn.g))},gn.\u0275cmp=be.Kb({type:gn,selectors:[["app-slots-for-service-dialog"]],decls:4,vars:1,consts:[["mat-dialog-title",""],[3,"hasShadow"]],template:function(e,t){1&e&&(be.Wb(0,"div",0),be.Rb(1,"company-slots-for-service-header-shell"),be.Vb(),be.Wb(2,"mat-dialog-content"),be.Rb(3,"company-slots-for-service-shell",1),be.Vb()),2&e&&(be.Db(3),be.oc("hasShadow",!1))},directives:[Rn.h,He,Rn.e,ct],styles:[""]}),gn),Vn=n("2Sd8"),Wn=n("3WbM"),Mn=((Cn=function(){function e(t,n,c,r,i,s,a){var o=this;_classCallCheck(this,e),this.actions$=t,this.store=n,this.requestClient=c,this.companyClient=r,this.toast=i,this.router=s,this.dialog=a,this.RequestCompany$=this.actions$.pipe(Object(Sn.e)(u.RequestCompany),Object(Bt.a)((function(e){return e.payload})),Object(Ht.a)((function(e){return o.companyClient.fromName(e).pipe(Object(Dn.a)((function(e){return[new p(e),new S(e.id)]})),Object(In.a)((function(e){return Object(wn.a)(new d(e))})))}))),this.RequestSlots$=this.actions$.pipe(Object(Sn.e)(u.RequestSlots),Object(qn.a)(this.store.select(re)),Object(Dn.a)((function(e){var t=_slicedToArray(e,2),n=(t[0],t[1]);return o.companyClient.slots(n).pipe(Object(Bt.a)((function(e){return new m(e)})),Object(In.a)((function(e){return Object(wn.a)(new y(e))})))}))),this.RequestCurrentRequest$=this.actions$.pipe(Object(Sn.e)(u.RequestCurrentRequest),Object(Bt.a)((function(e){return e.payload})),Object(Dn.a)((function(e){return o.requestClient.current(e).pipe(Object(Bt.a)((function(e){return new w(e)})),Object(In.a)((function(e){return Object(wn.a)(new y(e))})))}))),this.UpdateCurrentRequest=this.actions$.pipe(Object(Sn.e)(u.SetCurrentRequest),Object(Bt.a)((function(e){return e.payload})),Object(Bt.a)((function(e){return new de.k(e.itemsCount)}))),this.RequestAddAppointmentRequest$=this.actions$.pipe(Object(Sn.e)(u.RequestAddAppointmentRequest),Object(qn.a)(this.store.select(pe),this.store.select(de.t)),Object(Dn.a)((function(e){var t=_slicedToArray(e,3),n=(t[0],t[1]),c=t[2];return n?(c||(o.closeDialog(),o.router.navigate(["login"],{queryParams:Object.assign({returnUrl:o.router.routerState.snapshot.url},n)})),o.requestClient.createAppointment(n).pipe(Object(_n.a)((function(e){return o.toast.success("Added to Cart")})),Object(_n.a)((function(e){return o.closeDialog()})),Object(Dn.a)((function(e){return[new f,new w(e)]})),Object(In.a)((function(e){return Object(wn.a)(new y(e))})))):Object(wn.a)(new k)}))),this.RequestRemoveAppointment$=this.actions$.pipe(Object(Sn.e)(u.RequestRemoveAppointment),Object(Bt.a)((function(e){return e.payload})),Object(qn.a)(this.store.select(ae)),Object(Dn.a)((function(e){var t=_slicedToArray(e,2),n=t[0],c=t[1];return o.requestClient.delete(c.id,n.toString(),c.owner.id.toString()).pipe(Object(_n.a)((function(e){return o.toast.success("Appointment removed from Cart")})),Object(_n.a)((function(e){return o.closeDialog()})),Object(Bt.a)((function(e){return new w(e)})),Object(In.a)((function(e){return Object(wn.a)(new y(e))})))}))),this.AddRequestNotes$=this.actions$.pipe(Object(Sn.e)(u.AddRequestNotes),Object(Bt.a)((function(e){return e.customerNotes})),Object(qn.a)(this.store.select(ae)),Object(Dn.a)((function(e){var t=_slicedToArray(e,2),n=t[0],c=t[1];return o.requestClient.patch(c.id,n).pipe(Object(_n.a)((function(e){return o.router.navigate(["c",c.owner.name,"checkout"])})),Object(Bt.a)((function(e){return new w(e)})),Object(In.a)((function(e){return Object(wn.a)(new y(e))})))}))),this.ConfirmRequest$=this.actions$.pipe(Object(Sn.e)(u.ConfirmRequest),Object(qn.a)(this.store.select(ae)),Object(Dn.a)((function(e){var t=_slicedToArray(e,2),n=(t[0],t[1]);return o.requestClient.complete(n.id).pipe(Object(_n.a)((function(e){return o.router.navigate(["my","requests"],{queryParams:{id:n.id}})})),Object(Bt.a)((function(e){return new w(e)})),Object(In.a)((function(e){return Object(wn.a)(new y(e))})))}))),this.RequestPaymentDetails$=this.actions$.pipe(Object(Sn.e)(u.RequestPaymentDetails),Object(Bt.a)((function(e){return e.id})),Object(Dn.a)((function(e){return o.requestClient.payment(e).pipe(Object(Bt.a)((function(e){return new P(e)})),Object(In.a)((function(e){return Object(wn.a)(new y(e))})))}))),this.OpenSlotsForServiceDialog$=this.actions$.pipe(Object(Sn.e)(u.OpenSlotsForServiceDialog),Object(Bt.a)((function(e){o.dialogRef=o.dialog.open(Pn,{width:"90vw"})})))}return _createClass(e,[{key:"closeDialog",value:function(){this.dialogRef&&this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||Cn)(be.ac(Sn.a),be.ac(i.h),be.ac(Vn.g),be.ac(Vn.c),be.ac(Wn.a),be.ac(r.b),be.ac(Rn.b))},Cn.\u0275prov=be.Mb({token:Cn,factory:Cn.\u0275fac}),Object(Kt.b)([Object(Sn.b)()],Cn.prototype,"RequestCompany$",void 0),Object(Kt.b)([Object(Sn.b)()],Cn.prototype,"RequestSlots$",void 0),Object(Kt.b)([Object(Sn.b)()],Cn.prototype,"RequestCurrentRequest$",void 0),Object(Kt.b)([Object(Sn.b)()],Cn.prototype,"UpdateCurrentRequest",void 0),Object(Kt.b)([Object(Sn.b)()],Cn.prototype,"RequestAddAppointmentRequest$",void 0),Object(Kt.b)([Object(Sn.b)()],Cn.prototype,"RequestRemoveAppointment$",void 0),Object(Kt.b)([Object(Sn.b)()],Cn.prototype,"AddRequestNotes$",void 0),Object(Kt.b)([Object(Sn.b)()],Cn.prototype,"ConfirmRequest$",void 0),Object(Kt.b)([Object(Sn.b)()],Cn.prototype,"RequestPaymentDetails$",void 0),Object(Kt.b)([Object(Sn.b)({dispatch:!1})],Cn.prototype,"OpenSlotsForServiceDialog$",void 0),Cn),$n=n("AytR"),xn=((On=function e(){_classCallCheck(this,e)}).\u0275mod=be.Ob({type:On}),On.\u0275inj=be.Nb({factory:function(e){return new(e||On)},imports:[[an.forRoot($n.a.stripePk)]]}),On);n.d(t,"CompanyModule",(function(){return En}));var An,En=((An=function e(){_classCallCheck(this,e)}).\u0275mod=be.Ob({type:An}),An.\u0275inj=be.Nb({factory:function(e){return new(e||An)},imports:[[jn,c.a,xn,i.j.forFeature("company",M),Sn.c.forFeature([Mn])]]}),An)}}]);